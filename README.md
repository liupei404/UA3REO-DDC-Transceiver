UA3REO-DDC-收发器
DDC SDR收发器项目https://ua3reo.ru/

该项目是一个培训项目，其中的某些内容正在不断变化中，并最终确定。因此，仅凭后果自负和冒险，您就可能白白浪费金钱和时间。

工作原理
RF信号由高速ADC芯片数字化并馈送到FPGA处理器。
DDC / DUC转换（频谱中频率的向上或向下的数字转换）在其中发生-类似于直接转换接收器。
转换期间获得的I和Q正交信号被发送到STM32微处理器。
它过滤，（调制）调制并将声音输出到音频编解码器/ USB。它还处理整个用户界面。
在发送时，该过程以相反的顺序进行，仅在链的末端是一个DAC，它将数字信号转换回模拟RF。

技术指标
接收频率：0.5mHz-450 + mHz
传输频率：0.5mHz-30mHz
发射功率：5W +
调制类型（TX / RX）：CW，LSB，USB，AM，FM，WFM，DIGI
20dB前置放大器和12dB衰减器
ADC动态范围100dB
USB操作（音频，CAT，KEY，PTT）
供电电压：13.8v
接收电流消耗：〜0.48A
传输电流消耗：〜1.6A +
收发器功能
全景（频谱+瀑布）48 kHz宽
可调带宽：下限从60Hz到500Hz，上限从300Hz到15kHz
带宽可调陷波滤波器
可切换AGC（AGC），攻击速度可调
范围图，具有自动切换模式的能力
基于LMS滤波器的数字降噪（DNR）
CAT / PTT虚拟COM端口（FT-450仿真）
自动前置放大器和衰减器控制
连续解码器
频谱分析仪
敏感度
信噪比为10dB时，前置放大器打开，ATT，LPF，BPF关闭
------------ | ------------- | -------------
1.9	| -111	| 0.6
3.6	| -121	| 0.2
7.1	| -121	| 0.2
10  | -121	| 0.2
14  | -116  | 0.3
18  | -112  | 0.5
21  | -110  | 0.7
25  | -109  | 0.8
28  | -108  | 0.9
100	| -105	| 1.3
145	| -105	| 1.3
435	| -100	| 2.2

组装和固件
我通过中文服务JLCPCB订购了这些板，它们及其电路在Scheme文件夹中。
组装后，您需要刷新FPGA和STM32芯片。
固件STM32是通过Keil或通过DFU模式下的USB电缆（脚本STM32 / FLASH.bat）制成的。或通过ST-LINK v2调试线。
使用USB-Blaster挂绳通过Quartus程序刷新FPGA固件。
正确组装的设备不需要调试，但是如果出现问题，首先要检查的是时钟信号的存在：
90 FGPA分支和ADC时钟输入-122.88 MHz，PC9 STM32分支-12.288 MHz，PB10 STM32分支-48 kHz。
如有必要，要校准和微调收发器，您需要编辑settings.h文件，例如，您可以指定DFT滤波器的带宽，反转编码器等（所有内容均已签名）

管理学
AF增益 -音量
SHIFT-平滑关闭收发器频率
ENC MAIN-主编码器，用于控制频率和菜单设置
ENC 2-用于菜单的辅助编码器。在正常模式下，快速切换频率，当陷波滤波器打开时，调整其频段
BAND--切换到以下范围。
BAND + -切换到上述范围
模式--切换至以下模式
模式+ -切换至上方的模式
FAST-主编码器的X10快速倒带模式
PRE / ATT-切换前置放大器和衰减器模式
TUNE-打开载波以调谐天线
A / B-在VFO-A / VFO-B接收器的设置库之间切换
AGC-启用AGC（自动增益控制）
AGC [保持] -切换到电源选择菜单
DNR-启用数字噪声消除
DNR [保持] -切换到键速度选择菜单（WPM）
A = B-将接收器第二个存储库的设置设置为等于当前
A = B [捏] -切换到带宽选择菜单
NOTCH-启用陷波滤波器以消除窄带干扰
CLAR-允许您在不同的银行上分散发送和接收VFO
菜单 -转到菜单
MENU [保持] -启用按键锁定LOCK
MENU [打开时] -重置收发器设置
设定值
TRX设置
射频功率 -发射功率，％
中频增益，dB-中频增益
频段图 - 频段图，根据频率自动切换模式
AutoGainer-根据ADC上的信号电平自动进行ATT / PREAMP控制
LPF滤波器 -控制硬件低通滤波器
BPF滤波器 -硬件带通滤波器管理
慢的速率编码器 -系数减速主编码器
两信号调谐 -TUNE模式下的两信号发生器（1 + 2kHz）
MIC IN-选择麦克风输入
LINE IN-线路输入选择
USB IN -USB音频输入选择
音频设置
SSB HPF Pass-在SSB中工作时低通滤波器的截止频率
SSB LPF Pass-在SSB中工作时HPF的截止频率
CW LPF Pass-在CW中工作时低通滤波器的截止频率
FM LPF Pass-在FM中工作时低通滤波器的截止频率
FM静噪-FM静噪级别
RX AGC Speed-接收的AGC（自动信号电平控制）的响应速度（更快）
TX AGC速度 -AGC /压缩器对变速箱的响应速度（更快）
连续波设定
CW密钥超时 -释放密钥后直到传输模式停止的时间
CW Generator shift-从传输频率调整接收发生器
CW自听 -自控CW（声音按键）
连续键控器 -自动键
CW Keyer WPM-按键速度，WPM
CW解码器 -CW接收软件解码器
LCD设定
LCD亮度 -LCD亮度
LCD休眠时间 -闲置时直到LCD亮度降低的时间
S-METER线-S-METER的外观（蜡烛或线）
FFT设定
FFT缩放 -缩放（Zoom In）FFT
启用FFT-启用瀑布和FFT
FFT平均-FFT突发平均级别
FFT窗口-FFT窗口选择（汉明/布莱克曼·哈里斯/汉宁）
ADC / DAC设置
ADC前置放大器 -开启ADC内置的前置放大器
ADC抖动 -启用ADC抖动以接收微弱信号
ADC Randomizer-启用ADC数字线路加密
关闭ADC - ADC关闭
CIC移位 -CIC抽取器输出后的位偏移
CICCOMP移位-CIC补偿器后的位偏移
TX CICCOMP移位 -TX CIC补偿器后的位偏移
DAC移位 -输出到DAC的位偏移
WIFI设置
启用WIFI-打开WiFi模块
WIFI选择AP-选择WiFi接入点
WIFI设置AP通行证 -设置WiFi接入点的密码
WIFI时区 -时区（用于通过Internet更新时间）
设定时钟时间
时钟设定
Flash更新
开始STM32固件升级
频谱分析仪
频谱开始 -启动频谱分析仪
Begin，10kHz-分析仪的起始频率，以10kHz为步长
End，10kHz-分析仪的最终频率，以10kHz为步长